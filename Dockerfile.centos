FROM registry.access.redhat.com/ubi8/ubi-minimal:8.0

ENV JAVA_OPTS="-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -XX:MaxRAMFraction=2 -XshowSettings:vm"

LABEL BASE_IMAGE="fabric8/java-centos-openjdk8-jdk:1.5.1"

ADD ./target/spark-operator-1.0.2-SNAPSHOT-runner /spark-operator
ADD ./target/libsunec.so /libsunec.so

CMD ["/spark-operator"]
